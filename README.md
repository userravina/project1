# app

A new Flutter project.

## Getting Started

This project is a starting point for a Flutter application.

A few resources to get you started if this is your first Flutter project:

- [Lab: Write your first Flutter app](https://docs.flutter.dev/get-started/codelab)
- [Cookbook: Useful Flutter samples](https://docs.flutter.dev/cookbook)

For help getting started with Flutter development, view the
[online documentation](https://docs.flutter.dev/), which offers tutorials,
samples, guidance on mobile development, and a full API reference.
<p>
<img src="https://user-images.githubusercontent.com/120082785/220397599-f5b30425-689b-459b-a885-142f62cde580.png" height="50%" width="30%">
<img src="https://user-images.githubusercontent.com/120082785/220398046-f935dcc0-6bfe-453e-8990-c8b968a9abf0.png" height="100%" width="30%">
</p>
import 'package:e_commerce/bloc/localization_state.dart';
import 'package:e_commerce/screens/home_page/bloc/home_event.dart';
import 'package:e_commerce/screens/home_page/data/repository/home_repository.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_gen/gen_l10n/app_localizations.dart';
import 'package:sizer/sizer.dart';
import 'package:supabase_flutter/supabase_flutter.dart';
import 'bloc/localization_bloc.dart';
import 'bloc/localization_event.dart';
import 'bloc_observer.dart';
import 'screens/home_page/bloc/home_bloc.dart';
import 'screens/routes/routes.dart';
import 'screens/splash_page/data/bloc/splash_bloc.dart';
import 'screens/splash_page/data/bloc/splash_event.dart';

Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Supabase.initialize(
    url: 'https://exzhxtmqdlyfriwjeuti.supabase.co',
    anonKey:
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4emh4dG1xZGx5ZnJpd2pldXRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY1NjkyODEsImV4cCI6MjA1MjE0NTI4MX0.Ey1W1LtqATaOPhKUGRlXcsZY5jOl4dPKhK3SdEsBQhU',
  );

  await SystemChrome.setPreferredOrientations([
    DeviceOrientation.portraitUp,
    DeviceOrientation.portraitDown,
  ]);

  Bloc.observer = ChatObserver();
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return Sizer(
      builder: (p0, p1, p2) => MultiBlocProvider(
        providers: [
          BlocProvider(create: (_) => SplashBloc()..add(SplashStartEvent())),
          BlocProvider(
            create: (_) =>
            HomeFetchBloc(HomeRepository(Supabase.instance.client))..add(ImageFetchStartedEvent()),
          ),
          BlocProvider(
            create: (_) => LocalizationBloc()..add(GetLanguageEvent()),
          )
        ],
        child: BlocBuilder<LocalizationBloc,LocalizationState>(builder: (context, state) {
          return MaterialApp.router(
            debugShowCheckedModeBanner: false,
            locale: state.selectedLocale,
            localizationsDelegates: AppLocalizations.localizationsDelegates,
            supportedLocales: AppLocalizations.supportedLocales,
            // theme: AppTheme.darkTheme(),
            routerConfig: Routes.router,
          );
        }),
      ),
    );
  }
}


import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';

class ChatObserver extends BlocObserver {
  @override
  void onEvent(Bloc bloc, Object? event) {
    super.onEvent(bloc, event);
    debugPrint('Event****: $event');
  }

  @override
  void onTransition(Bloc bloc, Transition transition) {
    super.onTransition(bloc, transition);
    debugPrint('Transition: $transition');
  }
}

// ignore_for_file: public_member_api_docs,constant_identifier_names,type=lint,unused_element,unused_field
import 'package:flutter/foundation.dart';

//
// GENERATED CODE - DO NOT MODIFY BY HAND
// **************************************************************************
// Generated by flutter-assets-generator extension for VS Code
// @mrasityilmaz
// **************************************************************************

@immutable
final class Assets {
  Assets._();
  static final _Fonts fonts = _Fonts._();
  static final _Images images = _Images._();


}

@immutable
final class _Fonts {
  _Fonts._();

  final String bodonimoda_28pt_semibolditalic_ttf = 'assets/fonts/BodoniModa_28pt-SemiBoldItalic.ttf';
  final String bodonimoda_48pt_black_ttf = 'assets/fonts/BodoniModa_48pt-Black.ttf';
  final String bodonimoda_48pt_blackitalic_ttf = 'assets/fonts/BodoniModa_48pt-BlackItalic.ttf';
  final String bodonimoda_48pt_bold_ttf = 'assets/fonts/BodoniModa_48pt-Bold.ttf';
  final String bodonimoda_48pt_bolditalic_ttf = 'assets/fonts/BodoniModa_48pt-BoldItalic.ttf';
  final String bodonimoda_48pt_extrabold_ttf = 'assets/fonts/BodoniModa_48pt-ExtraBold.ttf';
  final String bodonimoda_48pt_extrabolditalic_ttf = 'assets/fonts/BodoniModa_48pt-ExtraBoldItalic.ttf';
  final String bodonimoda_48pt_italic_ttf = 'assets/fonts/BodoniModa_48pt-Italic.ttf';
  final String bodonimoda_48pt_medium_ttf = 'assets/fonts/BodoniModa_48pt-Medium.ttf';
  final String bodonimoda_48pt_mediumitalic_ttf = 'assets/fonts/BodoniModa_48pt-MediumItalic.ttf';
  final String bodonimoda_48pt_regular_ttf = 'assets/fonts/BodoniModa_48pt-Regular.ttf';
  final String bodonimoda_48pt_semibold_ttf = 'assets/fonts/BodoniModa_48pt-SemiBold.ttf';
  final String bodonimoda_48pt_semibolditalic_ttf = 'assets/fonts/BodoniModa_48pt-SemiBoldItalic.ttf';
  final String bodonimoda_72pt_black_ttf = 'assets/fonts/BodoniModa_72pt-Black.ttf';
  final String bodonimoda_72pt_blackitalic_ttf = 'assets/fonts/BodoniModa_72pt-BlackItalic.ttf';
  final String bodonimoda_72pt_bold_ttf = 'assets/fonts/BodoniModa_72pt-Bold.ttf';
  final String bodonimoda_72pt_bolditalic_ttf = 'assets/fonts/BodoniModa_72pt-BoldItalic.ttf';
  final String bodonimoda_72pt_extrabold_ttf = 'assets/fonts/BodoniModa_72pt-ExtraBold.ttf';
  final String bodonimoda_72pt_extrabolditalic_ttf = 'assets/fonts/BodoniModa_72pt-ExtraBoldItalic.ttf';
  final String bodonimoda_72pt_italic_ttf = 'assets/fonts/BodoniModa_72pt-Italic.ttf';
  final String bodonimoda_72pt_medium_ttf = 'assets/fonts/BodoniModa_72pt-Medium.ttf';
  final String bodonimoda_72pt_mediumitalic_ttf = 'assets/fonts/BodoniModa_72pt-MediumItalic.ttf';
  final String bodonimoda_72pt_regular_ttf = 'assets/fonts/BodoniModa_72pt-Regular.ttf';
  final String bodonimoda_72pt_semibold_ttf = 'assets/fonts/BodoniModa_72pt-SemiBold.ttf';
  final String bodonimoda_72pt_semibolditalic_ttf = 'assets/fonts/BodoniModa_72pt-SemiBoldItalic.ttf';
  final String ofl_txt = 'assets/fonts/OFL.txt';
  final String tenorsans_regular_ttf = 'assets/fonts/TenorSans-Regular.ttf';

}

@immutable
final class _Images {
  _Images._();

  final String n3_png = 'assets/images/3.png';
  final String close_png = 'assets/images/Close.png';
  final String forward_arrow_png = 'assets/images/Forward Arrow.png';
  final String logo_png = 'assets/images/Logo.png';
  final String menu_png = 'assets/images/Menu.png';
  final String rectangle_325_png = 'assets/images/Rectangle 325.png';
  final String rectangle_344_png = 'assets/images/Rectangle 344.png';
  final String rectangle_433_png = 'assets/images/Rectangle 433.png';
  final String rectangle_434_png = 'assets/images/Rectangle 434.png';
  final String search_png = 'assets/images/Search.png';
  final String shopping_bag_png = 'assets/images/shopping_bag.png';

}

import 'package:flutter/material.dart';

class FontManager {
  static const String fontFamilyTenorSans = 'TenorSans';
  static const String fontFamilyBodoniModa = 'BodoniModa';

  // TenorSans Font styles
  static TextStyle tenorSansRegular(double size, {Color color = Colors.black,double? letterSpacing}) {
    return TextStyle(
      fontFamily: fontFamilyTenorSans,
      fontWeight: FontWeight.w400,
      fontSize: size,
      color: color,
      letterSpacing: letterSpacing
    );
  }

  // BodoniModa Font Styles
  static TextStyle bodoniModaBlack(double size, {Color color = Colors.black}) {
    return TextStyle(
      fontFamily: fontFamilyBodoniModa,
      fontWeight: FontWeight.w900,
      fontSize: size,
      color: color,
    );
  }

  static TextStyle bodoniModaBold(double size, {Color color = Colors.black}) {
    return TextStyle(
      fontFamily: fontFamilyBodoniModa,
      fontWeight: FontWeight.w700,
      fontSize: size,
      color: color,
    );
  }

  static TextStyle bodoniModaExtraBold(double size, {Color color = Colors.black}) {
    return TextStyle(
      fontFamily: fontFamilyBodoniModa,
      fontWeight: FontWeight.w800,
      fontSize: size,
      color: color,
    );
  } 

  static TextStyle bodoniModaItalic(double size, {Color color = Colors.black}) {
    return TextStyle(
      fontFamily: fontFamilyBodoniModa,
      fontWeight: FontWeight.w400,
      fontStyle: FontStyle.italic,
      fontSize: size,
      color: color,
    );
  }

  static TextStyle bodoniModaBoldItalic(double size, {Color color = Colors.black}) {
    return TextStyle(
      fontFamily: fontFamilyBodoniModa,
      fontWeight: FontWeight.w700,
      fontStyle: FontStyle.italic,
      fontSize: size,
      color: color,
    );
  }
}
import 'package:flutter/widgets.dart';
import 'package:flutter_gen/gen_l10n/app_localizations.dart';

class AppStrings {
  final BuildContext context;

  AppStrings(this.context);

  String get changeLanguage => AppLocalizations.of(context)!.changeLanguage;
  String get luxuryFashionAccessories => AppLocalizations.of(context)!.luxuryFashionAccessories;
  String get exploreCollection => AppLocalizations.of(context)!.exploreCollection;
  String get newArrival => AppLocalizations.of(context)!.newArrival;
  String get all => AppLocalizations.of(context)!.all;
  String get apparel => AppLocalizations.of(context)!.apparel;
  String get dress => AppLocalizations.of(context)!.dress;
  String get tShirt => AppLocalizations.of(context)!.tShirt;
  String get bag => AppLocalizations.of(context)!.bag;
  String get reversibleAngoraCardigan => AppLocalizations.of(context)!.reversibleAngoraCardigan;
  String get exploreMore => AppLocalizations.of(context)!.exploreMore;
  String get rupees => AppLocalizations.of(context)!.rupees;
  String get blog => AppLocalizations.of(context)!.blog;
  String get fashion => AppLocalizations.of(context)!.fashion;
  String get promo => AppLocalizations.of(context)!.promo;
  String get policy => AppLocalizations.of(context)!.policy;
  String get lookbook => AppLocalizations.of(context)!.lookbook;
  String get sale => AppLocalizations.of(context)!.sale;
  String get styleGuide => AppLocalizations.of(context)!.styleGuide;
  String get tips => AppLocalizations.of(context)!.tips;
  String get daysAgo => AppLocalizations.of(context)!.daysAgo;
}
import 'package:flutter/material.dart';
class AppColor {

  static const Color backgroundColor = Color(0xFFfcfcfc);
  static const Color white = Colors.white;
  static const Color lightBlue = Color(0xFFE7EAEF);
  static const Color black = Colors.black;
  static const Color lightGrey = Color(0xff6a6a6c);
  static const Color grey = Color(0xFFF9F9F9);
  static const Color greyWhite = Color(0xFFF5F5F5);
  static const Color warning = Color(0xFFDD8560);
  static const Color greyScale = Color(0xFF888888);
  static const Color blackGrey = Color(0xFF333333);
  static const Color primary300 = Color(0xFFB6ACE9);
  static const Color primary400 = Color(0xFF9D91E1);
  static const Color primary500 = Color(0xFF8576DA);

}
import 'package:shared_preferences/shared_preferences.dart';

class StorageServices {
  static const String languageKey = 'language';

  static Future<void> saveLanguage(String languageCode) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString(languageKey, languageCode);
  }

  static Future<String> getLanguage() async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getString(languageKey) ?? 'en'; 
  }
}

import 'package:e_commerce/screens/routes/app_route.dart';
import 'package:go_router/go_router.dart';
import '../blog_page/view/blog_page.dart';
import '../category_product_page/view/category_product_page.dart';
import '../home_page/view/home_page.dart';
import '../splash_page/view/splash_page.dart';

class Routes {
  static final GoRouter router = GoRouter(
    routes: <RouteBase>[
      GoRoute(
        path: AppRoutes.splashPage,
        builder: (context, state) {
          return const SplashScreen();
        },
        routes: <RouteBase>[
          GoRoute(
            path: AppRoutes.homePage,
            name: AppRoutes.homePage,
            builder: (context, state) {
              return const HomePage();
            },
            routes: <RouteBase>[
              GoRoute(
                path: AppRoutes.categoryPage,
                name: AppRoutes.categoryPage,
                builder: (context, state) {
                  return const CategoryProductPage();
                },
              ),
              GoRoute(
                path: AppRoutes.blogPage,
                name: AppRoutes.blogPage,
                builder: (context, state) {
                  return const BlogPage();
                },
              ),
            ],
          ),
        ],
      ),
    ],
  );
}
class AppRoutes {
  static const String splashPage = "/";
  static const String homePage = "/home";
  static const String blogPage = "/blog";
  static const String categoryPage = "/category";

}
import 'package:e_commerce/common_components/custom_appbar.dart';
import 'package:e_commerce/screens/home_page/view/responsive_view/home_mobile.dart';
import 'package:e_commerce/screens/home_page/view/responsive_view/home_web.dart';
import 'package:e_commerce/theme/app_color.dart';
import 'package:flutter/material.dart';
import 'package:responsive_builder/responsive_builder.dart';

import '../../../common_components/custom_drawer.dart';

class HomePage extends StatelessWidget {
  const HomePage({super.key});

  @override
  Widget build(BuildContext context) {
    return SafeArea(
        child: Scaffold(
      appBar: CustomAppBar(
        backgroundColor: AppColor.lightBlue,
      ),
        drawer: CustomDrawer(),
      body: ResponsiveBuilder(
        builder: (context, sizingInformation) {
          if (sizingInformation.deviceScreenType == DeviceScreenType.desktop) {
            return HomeWeb();
          }
          if (sizingInformation.deviceScreenType == DeviceScreenType.mobile ||
              sizingInformation.deviceScreenType == DeviceScreenType.tablet) {
            return HomeMobile();
          }
          return const SizedBox();
        },
      ),
    ));
  }
}
import 'dart:async';
import 'package:e_commerce/utils/app_strings.dart';
import 'package:flutter/material.dart';
import 'package:sizer/sizer.dart';
import 'package:smooth_page_indicator/smooth_page_indicator.dart';
import 'package:cached_network_image/cached_network_image.dart';
import 'package:e_commerce/theme/app_color.dart';
import '../../../../utils/text_style.dart';

class ImageCarousel extends StatefulWidget {
  final List<String> imageUrls;

  const ImageCarousel({super.key, required this.imageUrls});

  @override
  // ignore: library_private_types_in_public_api
  _ImageCarouselState createState() => _ImageCarouselState();
}

class _ImageCarouselState extends State<ImageCarousel> {
  late PageController pageController;
  late Timer autoScrollTimer;

  int currentPage = 0;

  @override
  void initState() {
    super.initState();
    pageController = PageController();
    startAutoScroll();
  }

  void startAutoScroll() {
    autoScrollTimer = Timer.periodic(const Duration(seconds: 5), (timer) {
      if (pageController.hasClients) {
        if (currentPage < widget.imageUrls.length - 1) {
          currentPage++;
        } else {
          currentPage = 0;
        }
        pageController.animateToPage(
          currentPage,
          duration: const Duration(milliseconds: 300),
          curve: Curves.easeInOut,
        );
      }
    });
  }

  @override
  void dispose() {
    autoScrollTimer.cancel();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return LayoutBuilder(
      builder: (context, constraints) {
        double carouselHeight = constraints.maxHeight;
        return Stack(
          children: [
            Container(
              width: double.infinity,
              height: carouselHeight,
              color: AppColor.lightBlue,
              child: PageView.builder(
                controller: pageController,
                itemCount: widget.imageUrls.length,
                itemBuilder: (context, index) {
                  return CachedNetworkImage(
                    imageUrl: widget.imageUrls[index],
                    fit: BoxFit.contain,
                    progressIndicatorBuilder: (context, url, downloadProgress) =>
                        Center(child: CircularProgressIndicator(value: downloadProgress.progress)),
                    errorWidget: (context, url, error) => Center(child: Icon(Icons.error)),
                  );
                },
                onPageChanged: (index) {
                  setState(() {
                    currentPage = index;
                  });
                },
              ),
            ),
            Positioned(
              bottom: carouselHeight * 0.3,
              left: 0,
              right: 0,
              child: Align(
                alignment: Alignment.centerLeft,
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.center,
                  children: [
                    Padding(
                      padding:  EdgeInsets.only(left: 4.w),
                      child: Text(
                        AppStrings(context).luxuryFashionAccessories,
                        style: FontManager.bodoniModaBoldItalic(40, color: AppColor.lightGrey),
                        textAlign: TextAlign.center,
                      ),
                    ),
                  ],
                ),
              ),
            ),
            Positioned(
              bottom: carouselHeight * 0.1,
              left: 0,
              right: 0,
              child: Padding(
                padding: EdgeInsets.symmetric(horizontal: 15.w),
                child: Opacity(
                  opacity: 0.3,
                  child: Container(
                    height: 5.5.h,
                    width: double.infinity,
                    decoration: BoxDecoration(
                      borderRadius: BorderRadius.circular(30),
                      color: AppColor.black,
                    ),
                    child: Center(
                      child: Text(
                        AppStrings(context).exploreCollection,
                        style: FontManager.tenorSansRegular(16, color: AppColor.backgroundColor),
                      ),
                    ),
                  ),
                ),
              ),
            ),
            Positioned(
              bottom: carouselHeight * 0.02,
              left: 0,
              right: 0,
              child: Align(
                alignment: Alignment.center,
                child: SmoothPageIndicator(
                  controller: pageController,
                  count: widget.imageUrls.length,
                  effect: CustomizableEffect(
                    dotDecoration: DotDecoration(
                      color: Colors.transparent,
                      rotationAngle: 45,
                      height: 7.0,
                      width: 7.0,
                      dotBorder: DotBorder(color: AppColor.backgroundColor),
                    ),
                    activeDotDecoration: DotDecoration(
                      color: AppColor.backgroundColor,
                      rotationAngle: 45,
                      height: 7.0,
                      width: 7.0,
                      dotBorder: DotBorder(color: AppColor.backgroundColor),
                    ),
                  ),
                ),
              ),
            ),
          ],
        );
      },
    );
  }
}
import 'package:flutter/material.dart';
import 'package:sizer/sizer.dart';
import '../../../../theme/app_color.dart';
import '../../../../utils/text_style.dart';

class CategoryItem extends StatelessWidget {
  final String text;
  final bool isSelected;
  final VoidCallback onTap;

  const CategoryItem({
    super.key,
    required this.text,
    required this.isSelected,
    required this.onTap,
  });

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.symmetric(horizontal: 12.0),
      child: GestureDetector(
        onTap: onTap,
        child: MouseRegion(
          onEnter: (_) {},
          onExit: (_) {},
          child: Container(
            padding: EdgeInsets.symmetric(horizontal: 8.0, vertical: 6.0),
            decoration: BoxDecoration(
              borderRadius: BorderRadius.circular(8),
              color: Colors.transparent,
            ),
            child: Center(
              child: Column(
                children: [
                  Text(
                    text,
                    style: FontManager.tenorSansRegular(
                      14,
                      color: isSelected ? AppColor.warning : AppColor.black,
                    ),
                  ),
                    SizedBox(height: 1.h,),
                  if(isSelected)
                    Transform.rotate(
                      angle: 15,
                      child: Container(
                        height: 7.0,
                        width: 7.0,
                        decoration: BoxDecoration(
                          color: AppColor.warning,
                        ),
                      ),
                    ),
                ],
              ),
            ),
          ),
        ),
      ),
    );
  }
}
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:sizer/sizer.dart';
import '../../../../assets.dart';
import '../../../../theme/app_color.dart';
import '../../../../utils/app_strings.dart';
import '../../../../utils/text_style.dart';
import '../../bloc/home_bloc.dart';
import '../../bloc/home_event.dart';
import '../../bloc/home_state.dart';
import '../widgets/categoryItemRow.dart';
import '../widgets/imageCarousel.dart';


class HomeWeb extends StatelessWidget {
  const HomeWeb({super.key});

  @override
  Widget build(BuildContext context) {
    return Row(
      children: [
        Expanded(
          flex: 2,
          child: BlocBuilder<HomeFetchBloc, HomeFetchState>(
            builder: (context, state) {
              if (state is ImageFetchLoadingState) {
                return Center(child: CircularProgressIndicator());
              }

              if (state is ImageFetchErrorState) {
                return Center(child: Text('Error: ${state.errorMessage}'));
              }

              if (state is ImageFetchLoadedState) {
                return Container(
                  height: MediaQuery.of(context).size.height,
                  child: ImageCarousel(imageUrls: state.imageUrls),
                );
              }
              return Center(child: Text('No images available'));
            },
          ),
        ),
        Expanded(
          flex: 3,
          child: Column(
            children: [
              SizedBox(height: 4.h),
              Text(
                AppStrings(context).newArrival,
                style: FontManager.tenorSansRegular(18,
                    color: AppColor.black, letterSpacing: 1.5),
              ),
              Image.asset(
                Assets.images.n3_png,
                width: 30.w,
              ),
              SizedBox(height: 1.5.h),
              BlocBuilder<HomeFetchBloc, HomeFetchState>(
                builder: (context, state) {
                  String selectedCategory =
                  (state is CategorySelectedState) ? state.selectedCategory : '';

                  return SizedBox(
                    height: 7.h,
                    child: ListView(
                      scrollDirection: Axis.horizontal,
                      children: [
                        buildCategoryItem(
                            context, AppStrings(context).all, selectedCategory),
                        buildCategoryItem(
                            context, AppStrings(context).apparel, selectedCategory),
                        buildCategoryItem(
                            context, AppStrings(context).dress, selectedCategory),
                        buildCategoryItem(
                            context, AppStrings(context).tShirt, selectedCategory),
                        buildCategoryItem(
                            context, AppStrings(context).bag, selectedCategory),
                      ],
                    ),
                  );
                },
              ),
              SizedBox(height: 1.5.h),
            ],
          ),
        ),
      ],
    );
  }

  Widget buildCategoryItem(
      BuildContext context, String categoryName, String selectedCategory) {
    return CategoryItem(
      text: categoryName,
      isSelected: selectedCategory == categoryName,
      onTap: () {
        context.read<HomeFetchBloc>().add(CategorySelectedEvent(categoryName));

        if (!context.read<HomeFetchBloc>().imagesFetched) {
          context.read<HomeFetchBloc>().add(ImageFetchStartedEvent());
        }
      },
    );
  }
}

import 'package:e_commerce/assets.dart';
import 'package:e_commerce/theme/app_color.dart';
import 'package:e_commerce/utils/app_strings.dart';
import 'package:e_commerce/utils/text_style.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:go_router/go_router.dart';
import 'package:sizer/sizer.dart';
import '../../../../common_components/product_card.dart';
import '../../../routes/app_route.dart';
import '../../bloc/home_bloc.dart';
import '../../bloc/home_state.dart';
import '../../bloc/home_event.dart';
import '../widgets/categoryItemRow.dart';
import '../widgets/imageCarousel.dart';

class HomeMobile extends StatelessWidget {
  const HomeMobile({super.key});

  @override
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      child: Column(
        children: [
          BlocBuilder<HomeFetchBloc, HomeFetchState>(builder: (context, state) {
            if (state is ImageFetchLoadingState) {
              return Center(child: CircularProgressIndicator());
            }

            if (state is ImageFetchErrorState) {
              return Center(child: Text('Error: ${state.errorMessage}'));
            }

            if (state is ImageFetchLoadedState) {
              return SizedBox(
                height: 65.h,
                child: ImageCarousel(imageUrls: state.imageUrls),
              );
            }
            return Center(child: Text('No images available'));
          }),
          SizedBox(height: 4.h),
          Text(
            AppStrings(context).newArrival,
            style: FontManager.tenorSansRegular(18,
                color: AppColor.black, letterSpacing: 1.5),
          ),
          Image.asset(
            Assets.images.n3_png,
            width: 30.w,
          ),
          SizedBox(height: 1.5.h),
          BlocBuilder<HomeFetchBloc, HomeFetchState>(builder: (context, state) {
            String selectedCategory =
            (state is CategorySelectedState) ? state.selectedCategory : '';

            return SizedBox(
              height: 7.h,
              child: ListView(
                scrollDirection: Axis.horizontal,
                children: [
                  buildCategoryItem(context, AppStrings(context).all, selectedCategory),
                  buildCategoryItem(context, AppStrings(context).apparel, selectedCategory),
                  buildCategoryItem(context, AppStrings(context).dress, selectedCategory),
                  buildCategoryItem(context, AppStrings(context).tShirt, selectedCategory),
                  buildCategoryItem(context, AppStrings(context).bag, selectedCategory),
                ],
              ),
            );
          }),
          SizedBox(height: 1.5.h),
          Padding(
            padding: EdgeInsets.symmetric(horizontal: 3.w),
            child: GridView.builder(
              shrinkWrap: true,
              physics: NeverScrollableScrollPhysics(),
              gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
                crossAxisCount: 2,
                crossAxisSpacing: 4.w,
                mainAxisSpacing: 1.h,
                childAspectRatio: 0.61,
              ),
              itemCount: 4,
              itemBuilder: (context, index) {
                return ProductCard(
                  imageUrl: Assets.images.rectangle_325_png,
                  productName: 'Product Name $index',
                  productPrice: '\$29.99',
                );
              },
            ),
          ),
          SizedBox(height: 1.h),
          InkWell(
            onTap: () {
              context.goNamed(AppRoutes.blogPage);
            },
            child: Row(
              mainAxisSize: MainAxisSize.min,
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Text(
                  AppStrings(context).exploreMore,
                  style: FontManager.tenorSansRegular(16, color: AppColor.black),
                ),
                SizedBox(width: 4.w,),
               Image.asset(Assets.images.forward_arrow_png,width: 18,height: 18,),
              ],
            ),
          ),
          SizedBox(height: 1.5.h,),
          Image.asset(
            Assets.images.n3_png,
            width: 30.w,
          ),
          SizedBox(height: 3.h),
        ],
      ),
    );
  }

  Widget buildCategoryItem(BuildContext context, String categoryName, String selectedCategory) {
    return CategoryItem(
      text: categoryName,
      isSelected: selectedCategory == categoryName,
      onTap: () {
        context.read<HomeFetchBloc>().add(ImageFetchStartedEvent());
        // context.read<HomeFetchBloc>().add(CategorySelectedEvent(categoryName));

        if (!context.read<HomeFetchBloc>().imagesFetched) {
          context.read<HomeFetchBloc>().add(ImageFetchStartedEvent());
        }
      },
    );
  }
}

import 'package:e_commerce/screens/category_product_page/view/responsive_view/category_mobile.dart';
import 'package:e_commerce/screens/category_product_page/view/responsive_view/category_web.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:responsive_builder/responsive_builder.dart';
import '../../../common_components/custom_appbar.dart';
import '../../../common_components/custom_drawer.dart';
import '../../../theme/app_color.dart';
import '../bloc/category_bloc.dart';

class CategoryProductPage extends StatelessWidget {
  const CategoryProductPage({super.key});

  @override
  Widget build(BuildContext context) {
    return BlocProvider(
      create: (context) => CategoryBloc(),
      child: SafeArea(
        child: Scaffold(
          appBar: CustomAppBar(
            backgroundColor: AppColor.white,
          ),
          backgroundColor: AppColor.white,
          drawer: CustomDrawer(listSwitch: true),
          body: ResponsiveBuilder(
            builder: (context, sizingInformation) {
              if (sizingInformation.deviceScreenType == DeviceScreenType.desktop) {
                return CategoryWeb();
              }
              if (sizingInformation.deviceScreenType == DeviceScreenType.mobile ||
                  sizingInformation.deviceScreenType == DeviceScreenType.tablet) {
                return CategoryMobile();
              }
              return const SizedBox();
            },
          ),
        ),
      ),
    );
  }
}
import 'package:flutter/material.dart';
import 'package:sizer/sizer.dart';
import '../../../../assets.dart';
import '../../../../common_components/product_card.dart';

class CategoryMobile extends StatelessWidget {
  const CategoryMobile({super.key});

  @override
  Widget build(BuildContext context) {
    return Column(
      children: [
        SizedBox(height: 3.h,),
        Padding(
          padding: EdgeInsets.symmetric(horizontal: 3.w),
          child: GridView.builder(
            shrinkWrap: true,
            physics: NeverScrollableScrollPhysics(),
            gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
              crossAxisCount: 2,
              crossAxisSpacing: 4.w,
              mainAxisSpacing: 1.h,
              childAspectRatio: 0.61,
            ),
            itemCount: 4,
            itemBuilder: (context, index) {
              return ProductCard(
                imageUrl: Assets.images.rectangle_344_png,
                productName: 'Product Name $index',

                productPrice: '\$29.99',
              );
            },
          ),
        ),
      ],
    );
  }
}
import 'package:flutter/material.dart';

class CategoryWeb extends StatelessWidget {
  const CategoryWeb({super.key});

  @override
  Widget build(BuildContext context) {
    return Column(children: [

    ],);
  }
}
import 'package:equatable/equatable.dart';

abstract class CategoryEvent extends Equatable {
  @override
  List<Object?> get props => [];
}

class ToggleViewEvent extends CategoryEvent {}

import 'package:equatable/equatable.dart';

abstract class CategoryState extends Equatable {
  @override
  List<Object?> get props => [];
}

class GridState extends CategoryState {}

class ListState extends CategoryState {}

import 'package:flutter_bloc/flutter_bloc.dart';
import 'category_event.dart';
import 'category_state.dart';

class CategoryBloc extends Bloc<CategoryEvent, CategoryState> {
  CategoryBloc() : super(GridState()) {
    on<ToggleViewEvent>((event, emit) {
      if (state is GridState) {
        emit(ListState());
      } else {
        emit(GridState());
      }
    });
  }
}
import 'package:e_commerce/screens/blog_page/bloc/blog_bloc.dart';
import 'package:e_commerce/screens/blog_page/view/responsive_view/bloc_mobile.dart';
import 'package:e_commerce/screens/blog_page/view/responsive_view/bloc_web.dart';
import 'package:e_commerce/theme/app_color.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:responsive_builder/responsive_builder.dart';
import '../../../common_components/custom_drawer.dart';

class BlogPage extends StatelessWidget {
  const BlogPage({super.key});

  @override
  Widget build(BuildContext context) {
    return BlocProvider(
      create: (context) => BlogViewBloc(),
      child: SafeArea(
        child: Scaffold(
          backgroundColor: AppColor.white,
          drawer: CustomDrawer(listSwitch: true), 
          body: ResponsiveBuilder(
            builder: (context, sizingInformation) {
              if (sizingInformation.deviceScreenType == DeviceScreenType.desktop) {
                return BlogWeb();
              }
              if (sizingInformation.deviceScreenType == DeviceScreenType.mobile ||
                  sizingInformation.deviceScreenType == DeviceScreenType.tablet) {
                return BlogMobile();
              }
              return const SizedBox(); 
            },
          ),
        ),
      ),
    );
  }
}
import 'package:flutter/material.dart';
import 'package:sizer/sizer.dart';
import '../../../../assets.dart';
import '../../../../theme/app_color.dart';
import '../../../../utils/text_style.dart';

class ListViewBlog extends StatelessWidget {
  const ListViewBlog({super.key});

  @override
  Widget build(BuildContext context) {
   return ListView.builder(
      shrinkWrap: true,
      physics: NeverScrollableScrollPhysics(),
      itemCount: 5,
      itemBuilder: (context, index) {
        return Padding(
          padding: EdgeInsets.symmetric(vertical: 1.h, horizontal: 4.w),
          child: Row(
            crossAxisAlignment: CrossAxisAlignment.center,
            children: [
              Container(
                width: 120,
                height: 155,
                decoration: BoxDecoration(
                  image: DecorationImage(
                    image: AssetImage(Assets.images.rectangle_433_png),
                    fit: BoxFit.contain,
                  ),
                ),
              ),
              SizedBox(width: 3.w),
              Expanded(
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      "2021 Style Guide:  The Biggest Fall Trends",
                      style: FontManager.tenorSansRegular(
                        14,
                        color: AppColor.black,
                        letterSpacing: 2
                      ),
                      maxLines: 2,
                      overflow: TextOverflow.ellipsis,
                    ),
                    SizedBox(height: 1.h),
                    Text(
                      "The excitement of fall fashion is here and I’m already loving some of the trend forecasts",
                      style: FontManager.tenorSansRegular(14,
                          color: AppColor.blackGrey),
                      maxLines: 3,
                      overflow: TextOverflow.ellipsis,
                    ),
                    SizedBox(height: 1.h),
                    Text(
                      "4 days ago",
                      style: FontManager.tenorSansRegular(12,
                          color: AppColor.greyScale),
                    ),
                  ],
                ),
              ),
            ],
          ),
        );
      },
    );
  }
}
import 'package:flutter/material.dart';
import 'package:sizer/sizer.dart';
import '../../../../assets.dart';
import '../../../../theme/app_color.dart';
import '../../../../utils/app_strings.dart';
import '../../../../utils/text_style.dart';

class GridViewBlog extends StatelessWidget {
  const GridViewBlog({super.key});

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: EdgeInsets.symmetric(horizontal: 3.w),
      child: GridView.builder(
        shrinkWrap: true,
        physics: NeverScrollableScrollPhysics(),
        gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
          crossAxisCount: 1,
          crossAxisSpacing: 4.w,
          mainAxisSpacing: 1.h,
          childAspectRatio: 1.35,
        ),
        itemCount: 5,
        itemBuilder: (context, index) {
          return Column(
            children: [
              Expanded(
                child: Container(
                  height: 300,
                  decoration: BoxDecoration(
                    image: DecorationImage(
                      image: AssetImage(Assets.images.rectangle_434_png),
                      fit: BoxFit.cover,
                    ),
                  ),
                  child: Stack(
                    children: [
                      Positioned(
                        top: 0,
                        right: 0,
                        child: IconButton(
                          onPressed: () {},
                          icon: Icon(
                            Icons.bookmark_border,
                            color: AppColor.white,
                            size: 24,
                          ),
                        ),
                      ),
                      Positioned(
                        bottom: 0,
                        left: 0,
                        right: 0,
                        child: Container(
                          height: 6.h,
                          decoration: BoxDecoration(
                            gradient: LinearGradient(
                              colors: [
                                // ignore: deprecated_member_use
                                Colors.black.withOpacity(0.7),
                                Colors.transparent,
                              ],
                              begin: Alignment.bottomCenter,
                              end: Alignment.topCenter,
                            ),
                          ),
                        ),
                      ),
                      Positioned(
                        bottom: 1.h,
                        left: 2.w,
                        right: 2.w,
                        child: Text(
                          'Blog Item ${AppStrings(context).styleGuide}',
                          style: FontManager.tenorSansRegular(14,
                              color: AppColor.white),
                          maxLines: 2,
                          overflow: TextOverflow.ellipsis,
                        ),
                      ),
                    ],
                  ),
                ),
              ),
              SizedBox(
                height: 1.h,
              ),
              Row(
                children: [
                  Container(
                    padding:
                        EdgeInsets.symmetric(horizontal: 9.0, vertical: 7.0),
                    decoration: BoxDecoration(
                        border: Border.all(color: AppColor.greyWhite),
                        borderRadius: BorderRadius.circular(20)),
                    child: Text(
                      AppStrings(context).fashion,
                      style: FontManager.tenorSansRegular(12,
                          color: AppColor.greyScale),
                    ),
                  ),
                  SizedBox(width: 3.w),
                  Container(
                    padding:
                            EdgeInsets.symmetric(horizontal: 9.0, vertical: 7.0),
                    decoration: BoxDecoration(
                        border: Border.all(color: AppColor.greyWhite),
                        borderRadius: BorderRadius.circular(20)),
                    child: Text(
                      AppStrings(context).tips,
                      style: FontManager.tenorSansRegular(12,
                          color: AppColor.greyScale),
                    ),
                  ),
                  Spacer(),
                  Text(
                    AppStrings(context).daysAgo,
                    style: FontManager.tenorSansRegular(12,
                        color: AppColor.greyScale),
                  ),
                ],
              ),
              SizedBox(height: 2.h),
            ],
          );
        },
      ),
    );
  }
}

import 'package:flutter/material.dart';
import '../../../../theme/app_color.dart';
import '../../../../utils/text_style.dart';

class CategoryRowBlog extends StatelessWidget {
  final String text;
  final bool isSelected;
  final VoidCallback onTap;

  const CategoryRowBlog({
    super.key,
    required this.text,
    required this.isSelected,
    required this.onTap,
  });

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.symmetric(horizontal: 12.0),
      child: GestureDetector(
        onTap: onTap,
        child: MouseRegion(
          onEnter: (_) {},
          onExit: (_) {},
          child: Container(
            padding: EdgeInsets.symmetric(horizontal: 8.0, vertical: 6.0),
            decoration: BoxDecoration(
              borderRadius: BorderRadius.circular(30),
              color: AppColor.grey,
            ),
            child: Center(
              child: Text(
                text,
                style: FontManager.tenorSansRegular(
                  14,
                  color: AppColor.black,
                ),
              ),
            ),
          ),
        ),
      ),
    );
  }
}

import 'package:flutter/material.dart';

class BlogWeb extends StatelessWidget {
  const BlogWeb({super.key});

  @override
  Widget build(BuildContext context) {
    return Column();
  }
}

import 'package:e_commerce/assets.dart';
import 'package:e_commerce/screens/blog_page/view/widgets/grid_view.dart';
import 'package:e_commerce/screens/blog_page/view/widgets/list_view.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:sizer/sizer.dart';
import '../../../../common_components/custom_appbar.dart';
import '../../../../theme/app_color.dart';
import '../../../../utils/app_strings.dart';
import '../../../../utils/text_style.dart';
import '../../bloc/blog_bloc.dart';
import '../../bloc/blog_state.dart';
import '../widgets/category_row_blog.dart';

class BlogMobile extends StatelessWidget {
  const BlogMobile({super.key});

  @override
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      child: Column(
        children: [
           CustomAppBar(
              backgroundColor: AppColor.white,
            ),
          SizedBox(height: 4.h),
          Text(
            AppStrings(context).blog,
            style: FontManager.tenorSansRegular(18,
                color: AppColor.black, letterSpacing: 1.5),
          ),
          SizedBox(
            height: 0.5.h,
          ),
          Image.asset(
            Assets.images.n3_png,
            width: 30.w,
          ),
          SizedBox(height: 4.h),
          SizedBox(
            height: 5.h,
            child: ListView(
              scrollDirection: Axis.horizontal,
              children: [
                CategoryRowBlog(
                  text: AppStrings(context).fashion,
                  isSelected: true,
                  onTap: () {},
                ),
                CategoryRowBlog(
                  text: AppStrings(context).promo,
                  isSelected: false,
                  onTap: () {},
                ),
                CategoryRowBlog(
                  text: AppStrings(context).policy,
                  isSelected: false,
                  onTap: () {},
                ),
                CategoryRowBlog(
                  text: AppStrings(context).lookbook,
                  isSelected: false,
                  onTap: () {},
                ),
                CategoryRowBlog(
                  text: AppStrings(context).sale,
                  isSelected: false,
                  onTap: () {},
                ),
              ],
            ),
          ),
          SizedBox(height: 4.5.h),
          BlocBuilder<BlogViewBloc, BlogViewState>(
            builder: (context, state) {
              if (state is GridState) {
                return GridViewBlog();
              } else {
                return ListViewBlog();
              }
            },
          ),
          SizedBox(height: 3.h),
        ],
      ),
    );
  }

}
import 'package:equatable/equatable.dart';

abstract class BlogViewEvent extends Equatable {
  @override
  List<Object?> get props => [];
}

class ToggleViewEvent extends BlogViewEvent {}


import 'package:equatable/equatable.dart';

abstract class BlogViewState extends Equatable {
  @override
  List<Object?> get props => [];
}

class GridState extends BlogViewState {}

class ListState extends BlogViewState {}

import 'package:e_commerce/screens/blog_page/bloc/blog_event.dart';
import 'package:e_commerce/screens/blog_page/bloc/blog_state.dart';
import 'package:flutter_bloc/flutter_bloc.dart';

class BlogViewBloc extends Bloc<BlogViewEvent, BlogViewState> {
  BlogViewBloc() : super(GridState()) {
    on<ToggleViewEvent>((event, emit) {
      if (state is GridState) {
        emit(ListState());
      } else {
        emit(GridState());
      }
    });
  }
}
import 'package:flutter/material.dart';
import 'package:sizer/sizer.dart';

import '../theme/app_color.dart';
import '../utils/text_style.dart';

class ProductCard extends StatelessWidget {
  final String imageUrl;
  final String productName;
  final String productPrice;

  const ProductCard({
    super.key,
    required this.imageUrl,
    required this.productName,
    required this.productPrice,
  });

  @override
  Widget build(BuildContext context) {
    return Column(
      crossAxisAlignment: CrossAxisAlignment.center,
      children: [
        Image.asset(
          imageUrl,
          width: double.infinity,
          height: 25.h,
          fit: BoxFit.contain,
        ),
        SizedBox(height: 0.5.h),
        Text(
          productName,
          style: FontManager.tenorSansRegular(
            12,
            color: AppColor.black,
          ),
          overflow: TextOverflow.ellipsis,
          maxLines: 2,
        ),
        SizedBox(height: 1.h),
        Text(
          productPrice,
          style: FontManager.tenorSansRegular(
            15,
            color: AppColor.warning,
          ),
        ),
      ],
    );
  }
}
import 'package:e_commerce/theme/app_color.dart';
import 'package:e_commerce/utils/app_strings.dart';
import 'package:e_commerce/utils/text_style.dart';
import 'package:flutter/material.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:e_commerce/bloc/localization_bloc.dart';
import 'package:go_router/go_router.dart';
import 'package:sizer/sizer.dart';
import '../assets.dart';
import '../bloc/localization_event.dart';
import '../../screens/blog_page/bloc/blog_bloc.dart';
import '../screens/blog_page/bloc/blog_event.dart';
import '../screens/blog_page/bloc/blog_state.dart';
import '../screens/routes/app_route.dart';

class CustomDrawer extends StatelessWidget {
  final bool listSwitch;

  const CustomDrawer({super.key, this.listSwitch = false});

  @override
  Widget build(BuildContext context) {
    return Drawer(
      shape: const RoundedRectangleBorder(
        borderRadius: BorderRadius.only(
            topRight: Radius.circular(0), bottomRight: Radius.circular(0)),
      ),
      backgroundColor: AppColor.white,
      child: ListView(
        padding: EdgeInsets.zero,
        children: [
           Padding(
             padding: EdgeInsets.symmetric(horizontal: 3.w,vertical: 0.5.h),
             child: Row(
                children: [
                  IconButton(
                  icon: Image.asset(Assets.images.close_png, height: 24, width: 24),
                  onPressed: () => Navigator.pop(context),
                ),
                ],
              ),
           ),


          ListTile(
            title: Text(
              AppStrings(context).changeLanguage,
              style: FontManager.tenorSansRegular(17, color: AppColor.black),
            ),
          ),
          ListTile(
            title: Text(
              "English",
              style: FontManager.tenorSansRegular(16, color: AppColor.black),
            ),
            onTap: () {
              BlocProvider.of<LocalizationBloc>(context).add(
                ChangeLanguageEvent(const Locale('en')),
              );
              Navigator.pop(context);
            },
          ),
          ListTile(
            title: Text(
              "Arabic",
              style: FontManager.tenorSansRegular(16, color: AppColor.black),
            ),
            onTap: () {
              BlocProvider.of<LocalizationBloc>(context).add(
                ChangeLanguageEvent(const Locale('ar')),
              );
              Navigator.pop(context);
            },
          ),
          ListTile(
            title: Text(
              "Hindi",
              style: FontManager.tenorSansRegular(16, color: AppColor.black),
            ),
            onTap: () {
              BlocProvider.of<LocalizationBloc>(context).add(
                ChangeLanguageEvent(const Locale('hi')),
              );
              Navigator.pop(context);
            },
          ),
          _buildCategoryItem(context, 'Women'),
          _buildCategoryItem(context, 'Man'),
          _buildCategoryItem(context, 'Kids'),
          _buildCategoryItem(context, 'New'),
          _buildCategoryItem(context, 'Apparel'),
          _buildCategoryItem(context, 'Bag'),
          _buildCategoryItem(context, 'Shoes'),
          _buildCategoryItem(context, 'Beauty'),
          _buildCategoryItem(context, 'Accessories'),
          if (listSwitch)
            BlocBuilder<BlogViewBloc, BlogViewState>(
              builder: (context, state) {
                return ListTile(
                  title: Row(
                    children: [
                      Text(
                        "Change View",
                        style: FontManager.tenorSansRegular(16,
                            color: AppColor.black),
                      ),
                      Switch(
                        value: state is ListState,
                        onChanged: (value) {
                          BlocProvider.of<BlogViewBloc>(context)
                              .add(ToggleViewEvent());
                        },
                      ),
                    ],
                  ),
                );
              },
            ),
        ],
      ),
    );
  }

  Widget _buildCategoryItem(BuildContext context, String categoryName) {
    return ListTile(
      title: Row(
        mainAxisAlignment: MainAxisAlignment.spaceBetween,
        children: [
          Text(
            categoryName,
            style: FontManager.tenorSansRegular(16, color: AppColor.black),
          ),
          Icon(
            Icons.arrow_forward_ios,
            size: 16,
            color: AppColor.black,
          ),
        ],
      ),
      onTap: () {
        print('Selected Category: $categoryName');
        Navigator.pop(context);
        if(categoryName == "Women") {
          context.goNamed(AppRoutes.categoryPage);
        }
      },
    );
  }
}
import 'package:flutter/material.dart';
import '../assets.dart'; 

class CustomAppBar extends StatelessWidget implements PreferredSizeWidget {
  final Color? backgroundColor;

  const CustomAppBar({super.key, required this.backgroundColor});

  @override
  Widget build(BuildContext context) {
    return AppBar(
      backgroundColor: backgroundColor,
      leading: Padding(
        padding: const EdgeInsets.only(left: 16),
        child: IconButton(
          icon: Image.asset(
            Assets.images.menu_png,
            fit: BoxFit.contain,
            height: 24,
            width: 24,
          ),
          onPressed: () {
            Scaffold.of(context).openDrawer();
          },
        ),
      ),
      title: Image.asset(
        Assets.images.logo_png,
        width: 78,
        height: 32,
      ),
      centerTitle: true,
      surfaceTintColor: backgroundColor,
      actions: [
        Padding(
          padding: const EdgeInsets.only(right: 16),
          child: Image.asset(
            Assets.images.search_png,
            height: 24,
            width: 24,
          ),
        ),
        Padding(
          padding: const EdgeInsets.only(right: 23),
          child: Image.asset(
            Assets.images.shopping_bag_png,
            height: 24,
            width: 24,
          ),
        ),
      ],
      elevation: 0,
    );
  }

  @override
  Size get preferredSize => const Size.fromHeight(60);
}
{
  "luxuryFashionAccessories": "Luxury \n Fashion \n& Accessories",
  "exploreCollection": "Explore Collection",
  "changeLanguage": "Change Language",
  "newArrival": "NEW ARRIVAL",
  "all": "All",
  "apparel": "Apparel",
  "dress": "Dress",
  "tShirt": "Tshirt",
  "bag": "Bag",
  "reversibleAngoraCardigan": "21WN reversible angora cardigan",
  "exploreMore": "Explore More",
  "rupees": "$120",
  "blog": "Blog",
  "fashion": "Fashion",
  "promo": "Promo",
  "policy": "Policy",
  "lookbook": "Lookbook",
  "sale": "Sale",
  "styleGuide": "2021 Style Guide: The Biggest Fall Trends",
  "fashion2": "#Fashion",
  "tips": "#Tips",
  "daysAgo": "4 days ago"
}
name: e_commerce
description: "A new Flutter project."
# The following line prevents the package from being accidentally published to
# pub.dev using `flutter pub publish`. This is preferred for private packages.
publish_to: 'none' # Remove this line if you wish to publish to pub.dev

# The following defines the version and build number for your application.
# A version number is three numbers separated by dots, like 1.2.43
# followed by an optional build number separated by a +.
# Both the version and the builder number may be overridden in flutter
# build by specifying --build-name and --build-number, respectively.
# In Android, build-name is used as versionName while build-number used as versionCode.
# Read more about Android versioning at https://developer.android.com/studio/publish/versioning
# In iOS, build-name is used as CFBundleShortVersionString while build-number is used as CFBundleVersion.
# Read more about iOS versioning at
# https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html
# In Windows, build-name is used as the major, minor, and patch parts
# of the product and file versions while build-number is used as the build suffix.
version: 1.0.0+1

environment:
  sdk: ^3.6.0

# Dependencies specify other packages that your package needs in order to work.
# To automatically upgrade your package dependencies to the latest versions
# consider running `flutter pub upgrade --major-versions`. Alternatively,
# dependencies can be manually updated by changing the version numbers below to
# the latest version available on pub.dev. To see which dependencies have newer
# versions available, run `flutter pub outdated`.
dependencies:
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter
  intl: any

  # The following adds the Cupertino Icons font to your application.
  # Use with the CupertinoIcons class for iOS style icons.
  cupertino_icons: ^1.0.8
  flutter_bloc: ^8.1.6
  responsive_builder: ^0.7.1
  sizer: ^3.0.5
  equatable: ^2.0.7
  go_router: ^14.6.3
  supabase_flutter: ^2.8.3
  carousel_slider: ^5.0.0
  cached_network_image: ^3.4.1
  smooth_page_indicator: ^1.2.0+3
  shared_preferences: ^2.3.5

dev_dependencies:
  flutter_test:
    sdk: flutter

  # The "flutter_lints" package below contains a set of recommended lints to
  # encourage good coding practices. The lint set provided by the package is
  # activated in the `analysis_options.yaml` file located at the root of your
  # package. See that file for information about deactivating specific lint
  # rules and activating additional ones.
  flutter_lints: ^5.0.0

# For information on the generic Dart part of this file, see the
# following page: https://dart.dev/tools/pub/pubspec

# The following section is specific to Flutter packages.
flutter:
  generate: true
  # The following line ensures that the Material Icons font is
  # included with your application, so that you can use the icons in
  # the material Icons class.
  uses-material-design: true

  # To add assets to your application, add an assets section, like this:
  # assets:
  #   - images/a_dot_burr.jpeg
  #   - images/a_dot_ham.jpeg
  assets:
   - assets/images/

  # An image asset can refer to one or more resolution-specific "variants", see
  # https://flutter.dev/to/resolution-aware-images

  # For details regarding adding assets from package dependencies, see
  # https://flutter.dev/to/asset-from-package

  # To add custom fonts to your application, add a fonts section here,
  # in this "flutter" section. Each entry in this list should have a
  # "family" key with the font family name, and a "fonts" key with a
  # list giving the asset and other descriptors for the font. For
  # example:
  fonts:
    - family: TenorSans
      fonts:
        - asset: assets/fonts/TenorSans-Regular.ttf
    - family: BodoniModa
      fonts:
        - asset: assets/fonts/BodoniModa_48pt-Black.ttf
          weight: 900
        - asset: assets/fonts/BodoniModa_48pt-BlackItalic.ttf
          weight: 900
          style: italic
        - asset: assets/fonts/BodoniModa_48pt-Bold.ttf
          weight: 700
        - asset: assets/fonts/BodoniModa_48pt-BoldItalic.ttf
          weight: 700
          style: italic
        - asset: assets/fonts/BodoniModa_48pt-ExtraBold.ttf
          weight: 800
        - asset: assets/fonts/BodoniModa_48pt-ExtraBoldItalic.ttf
          weight: 800
          style: italic
        - asset: assets/fonts/BodoniModa_48pt-Italic.ttf
          style: italic
        - asset: assets/fonts/BodoniModa_28pt-SemiBoldItalic.ttf
          weight: 600
          style: italic   

  # For details regarding fonts from package dependencies,
  # see https://flutter.dev/to/font-from-package


import 'package:e_commerce/bloc/localization_state.dart';
import 'package:e_commerce/screens/home_page/bloc/home_event.dart';
import 'package:e_commerce/screens/home_page/data/repository/home_repository.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_gen/gen_l10n/app_localizations.dart';
import 'package:sizer/sizer.dart';
import 'package:supabase_flutter/supabase_flutter.dart';
import 'bloc/localization_bloc.dart';
import 'bloc/localization_event.dart';
import 'bloc_observer.dart';
import 'screens/home_page/bloc/home_bloc.dart';
import 'screens/routes/routes.dart';
import 'screens/splash_page/data/bloc/splash_bloc.dart';
import 'screens/splash_page/data/bloc/splash_event.dart';

Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Supabase.initialize(
    url: 'https://exzhxtmqdlyfriwjeuti.supabase.co',
    anonKey:
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV4emh4dG1xZGx5ZnJpd2pldXRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY1NjkyODEsImV4cCI6MjA1MjE0NTI4MX0.Ey1W1LtqATaOPhKUGRlXcsZY5jOl4dPKhK3SdEsBQhU',
  );

  await SystemChrome.setPreferredOrientations([
    DeviceOrientation.portraitUp,
    DeviceOrientation.portraitDown,
  ]);

  Bloc.observer = ChatObserver();
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return Sizer(
      builder: (p0, p1, p2) => MultiBlocProvider(
        providers: [
          BlocProvider(create: (_) => SplashBloc()..add(SplashStartEvent())),
          BlocProvider(
            create: (_) =>
            HomeFetchBloc(HomeRepository(Supabase.instance.client))..add(ImageFetchStartedEvent()),
          ),
          BlocProvider(
            create: (_) => LocalizationBloc()..add(GetLanguageEvent()),
          )
        ],
        child: BlocBuilder<LocalizationBloc,LocalizationState>(builder: (context, state) {
          return MaterialApp.router(
            debugShowCheckedModeBanner: false,
            locale: state.selectedLocale,
            localizationsDelegates: AppLocalizations.localizationsDelegates,
            supportedLocales: AppLocalizations.supportedLocales,
            // theme: AppTheme.darkTheme(),
            routerConfig: Routes.router,
          );
        }),
      ),
    );
  }
}
